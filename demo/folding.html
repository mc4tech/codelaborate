<!doctype html>

<head>
	
	<meta charset="utf-8" />

	<script src="../lib/codemirror.js"></script>
	<script src="../addon/fold/foldcode.js"></script>

	<!-- <script src="../addon/fold/foldgutter.js"></script>
	<script src="../addon/fold/brace-fold.js"></script>
	<script src="../addon/fold/xml-fold.js"></script>
	<script src="../addon/fold/indent-fold.js"></script>
	<script src="../addon/fold/markdown-fold.js"></script>
	<script src="../addon/fold/comment-fold.js"></script> -->

	<script src="../mode/javascript/javascript.js"></script>
	<script src="../mode/xml/xml.js"></script>

	<script src="../mode/css/css.js"></script>
	<script src="../mode/htmlmixed/htmlmixed.js"></script>

	<!-- <script src="../mode/python/python.js"></script>
	<script src="../mode/markdown/markdown.js"></script> -->

	<link rel="stylesheet" href="../lib/codemirror.css">

	<!-- <link rel="stylesheet" href="../addon/fold/foldgutter.css" />
	<link rel=stylesheet href="../doc/docs.css"> -->

	<style>
		/* .some-css {
			color: red;
			line-height: 2;
		} */
		.CodeMirror {
			border-top: 1px solid black;
			border-bottom: 1px solid black;
		}
	</style>

<title>CodeMirror: Code Folding Demo</title>

</head>

<body>


	<h2>Code Folding Test</h2>

	<form>

		<div style="max-width: 50em; margin-bottom: 1em">
			JavaScript:
			<br>
			<textarea id="code" name="code"></textarea>
		</div>

		<div style="max-width: 50em; margin-bottom: 1em">
			HTML:
			<br>
			<textarea id="code-html" name="code-html"></textarea>
		</div>

	</form>

	<script id="script">


		window.onload = function () {
			var te = document.getElementById("code");
			var sc = document.getElementById("script");

			te.value = (sc.textContent || sc.innerText || sc.innerHTML).replace(/^\s*/, "");
			sc.innerHTML = "";

			var te_html = document.getElementById("code-html");
			te_html.value = document.documentElement.innerHTML;

			window.editor = CodeMirror.fromTextArea(te, {
				mode: "javascript",
				lineNumbers: true,
				lineWrapping: true,
				extraKeys: { "Ctrl-Q": function (cm) { cm.foldCode(cm.getCursor()); } },
				foldGutter: true,
				gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
			});
			editor.foldCode(CodeMirror.Pos(13, 0));

			window.editor_html = CodeMirror.fromTextArea(te_html, {
				mode: "text/html",
				lineNumbers: true,
				lineWrapping: true,
				extraKeys: { "Ctrl-Q": function (cm) { cm.foldCode(cm.getCursor()); } },
				foldGutter: true,
				gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
			});
			editor_html.foldCode(CodeMirror.Pos(0, 0));
			editor_html.foldCode(CodeMirror.Pos(34, 0));

		};
	</script>

</body>